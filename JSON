<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Local JSON Viewer</title>
<style>
  body {
    font-family: monospace;
    background: #f4f4f4;
    padding: 20px;
  }

  textarea {
    width: 100%;
    height: 150px;
    font-family: monospace;
    font-size: 14px;
  }

  button {
    margin-top: 10px;
    padding: 8px 16px;
    font-size: 14px;
  }

  pre {
    background: #272822;
    color: #f8f8f2;
    padding: 15px;
    border-radius: 5px;
    overflow: auto;
    white-space: pre-wrap;    /* שורות נשברות */
    word-wrap: break-word;    /* שובר מילים ארוכות */
    max-height: 500px;        /* גלילה לגבוה */
  }

  /* צבעים ל-Syntax Highlight */
  .string { color: #a6e22e; }
  .number { color: #66d9ef; }
  .boolean { color: #fd971f; }
  .null { color: #f92672; }
  .key { color: #f92672; }
</style>
</head>
<body>

<h2>Local JSON Viewer</h2>
<textarea id="jsonInput" placeholder="Paste your JSON here"></textarea><br>
<button onclick="prettyPrintJSON()">Format JSON</button>

<h3>Output:</h3>
<pre id="output"></pre>

<script>
function syntaxHighlight(json) {
    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
    return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\\s*:)?|\b(true|false|null)\b|-?\d+(\.\d*)?([eE][+\-]?\d+)?)/g, function(match) {
        let cls = "number";
        if (/^"/.test(match)) {
            if (/:$/.test(match)) {
                cls = "key";
            } else {
                cls = "string";
            }
        } else if (/true|false/.test(match)) {
            cls = "boolean";
        } else if (/null/.test(match)) {
            cls = "null";
        }
        return '<span class="' + cls + '">' + match + '</span>';
    });
}

function prettyPrintJSON() {
    const input = document.getElementById('jsonInput').value;
    const output = document.getElementById('output');
    try {
        const obj = JSON.parse(input);
        const pretty = JSON.stringify(obj, null, 2);
        output.innerHTML = syntaxHighlight(pretty);
    } catch (e) {
        output.textContent = "Invalid JSON!";
    }
}
</script>

</body>
</html>
